{"version":3,"file":"js/256.22275726.js","mappings":"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","sources":["webpack://musickw/./src/views/ItemMusic.vue","webpack://musickw/./src/components/item/ItemMusicTop.vue","webpack://musickw/./src/components/item/ItemMusicTop.vue?b4b1","webpack://musickw/./src/components/item/ItemMusicList.vue","webpack://musickw/./src/components/item/ItemMusicList.vue?726b","webpack://musickw/./src/views/ItemMusic.vue?9059"],"sourcesContent":["<template>\r\n    <!-- 歌单详情页 -->\r\n    <ItemMusicTop :playlist=\"state.playlist\" :itemList=\"state.itemList\" @play-all-songs=\"handlePlayAllSongs\" />\r\n    <ItemMusicList ref=\"audio\" :itemList=\"state.itemList\"/>\r\n</template>\r\n\r\n<script>\r\nimport { useRoute } from 'vue-router'\r\nimport { reactive, onMounted } from 'vue'\r\nimport { mapMutations } from 'vuex';\r\n// 引入歌单详情页\r\nimport { getMusicItemList } from '@/request/api/item.js'\r\n// 引入子组件顶部\r\nimport ItemMusicTop from '@/components/item/ItemMusicTop.vue'\r\n// 引入子组件列表\r\nimport ItemMusicList from '@/components/item/ItemMusicList.vue'\r\n\r\nexport default {\r\n    setup() {\r\n        const state = reactive({\r\n            playlist: {}, //歌单的详情页\r\n            itemList: [], //歌单的歌曲\r\n        })\r\n\r\n        const route = useRoute()\r\n        onMounted(async () => {\r\n            // 获取歌单id\r\n            let result = await getMusicItemList(route.query.id)\r\n            state.playlist = result.data.data\r\n            // console.log(state.playlist);\r\n            // 获取歌单的歌曲\r\n            state.itemList = result.data.data.musicList\r\n            //防止页面刷新，数据丢失，将数据保存在sessionStorage中\r\n            sessionStorage.setItem('itemDetail', JSON.stringify(state))\r\n            // 获取sessionStorage中的数据\r\n            // console.log(sessionStorage.getItem('itemDetail'));\r\n        })\r\n\r\n        return { state }\r\n    },\r\n    components: {\r\n        ItemMusicTop,\r\n        ItemMusicList\r\n    },\r\n    methods: {\r\n        handlePlayAllSongs(musicList) {\r\n            // 更新Vuex store中的播放列表\r\n            this.updatePlayList(musicList);\r\n            // 设置当前播放索引为0\r\n            this.updatePlayListIndex(0);\r\n        },\r\n        ...mapMutations(['updatePlayList', 'updatePlayListIndex'])\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\nhtml,\r\nbody {\r\n    background-color: #f8fbf2;\r\n}\r\n</style>","<template>\r\n    <!-- 歌单详情页顶部 -->\r\n    <div class=\"itemMusicTop\" ref=\"topSection\">\r\n        <!-- 顶部banner -->\r\n        <img :src=\"playlist.img700\" alt=\"\" class=\"bgimg\" :style=\"{ height: bgImgHeight }\">\r\n        <!-- 蒙层遮罩 -->\r\n        <div class=\"Masking\"></div>\r\n        <!-- 左上角图标 -->\r\n        <div class=\"itemLeft\" @click=\"$router.go(-1)\">\r\n            <svg class=\"icon\" aria-hidden=\"true\">\r\n                <use xlink:href=\"#icon-xiangzuojiantou\"></use>\r\n            </svg>\r\n        </div>\r\n        <!-- 右上角播放全部按钮图标 -->\r\n        <div class=\"itemRight\" @click=\"playAllSongs\">\r\n            <svg class=\"icon\" aria-hidden=\"true\">\r\n                <use xlink:href=\"#icon-bofang-quanbubofang\"></use>\r\n            </svg>\r\n        </div>\r\n        <!-- 左下角信息 -->\r\n        <div class=\"title\" :style=\"{ left: titleLeft, top: titleTop }\">\r\n            <span>歌单详情</span>\r\n            <p>{{ playlist.name }}</p>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted } from 'vue';\r\n\r\nexport default {\r\n    setup(props) {\r\n        // 图片高度\r\n        const bgImgHeight = ref('5rem');\r\n        // 标题位置\r\n        const titleLeft = ref('0.4rem');\r\n        // 标题位置\r\n        const titleTop = ref('3rem');\r\n\r\n        onMounted(() => {\r\n            // 获取元素\r\n            const topSection = document.querySelector('.itemMusicTop');\r\n            const title = document.querySelector('.title p');\r\n            const bgimg = document.querySelector('.bgimg');\r\n            const Masking = document.querySelector('.Masking');\r\n\r\n            if (topSection && title) {\r\n                const handleScroll = () => {\r\n                    const scrollTop = window.scrollY || document.documentElement.scrollTop;\r\n                    if (scrollTop > 0) {\r\n                        // 页面向下滚动时改变样式\r\n                        bgImgHeight.value = '2rem';\r\n                        bgimg.style.filter = 'blur(0.1rem)';\r\n                        titleLeft.value = '1.4rem';\r\n                        titleTop.value = '10px';\r\n                        title.style.marginTop = '0.1rem'; // 修改margin-top样式\r\n                        Masking.style.height = '1.9rem';\r\n                    } else {\r\n                        // 页面滚动到顶部时恢复原始样式\r\n                        bgImgHeight.value = '5rem';\r\n                        bgimg.style.filter = 'blur(0.1rem)';\r\n                        titleLeft.value = '0.4rem';\r\n                        titleTop.value = '3rem';\r\n                        title.style.marginTop = '0.5rem'; // 恢复原始margin-top样式\r\n                        Masking.style.height = '5rem';\r\n                    }\r\n                };\r\n                window.addEventListener('scroll', handleScroll);\r\n                // 清除监听器以避免内存泄漏\r\n                return () => {\r\n                    window.removeEventListener('scroll', handleScroll);\r\n                };\r\n            }\r\n        });\r\n\r\n        return { bgImgHeight, titleLeft, titleTop };\r\n    },\r\n    props: ['playlist'],\r\n    methods: {\r\n        playAllSongs() {\r\n            // 向父组件发送事件,传递歌单列表\r\n            this.$emit('play-all-songs', this.playlist.musicList);\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.itemMusicTop {\r\n    width: 100%;\r\n    height: 1rem;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    position: fixed;\r\n    transition: all .3s;\r\n}\r\n\r\n.itemLeft,\r\n.itemRight {\r\n    width: 10%;\r\n    height: 100%;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    margin: 0 .2rem;\r\n    transition: all .3s;\r\n}\r\n\r\n.Masking {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 5rem;\r\n    background-image: linear-gradient(to bottom, rgba(255, 255, 255, 0), rgb(248, 251, 242, 0.9));\r\n    /* 设置透明顶部至底部的渐变色 */\r\n    transition: all .3s;\r\n    z-index: -1;\r\n}\r\n\r\n.bgimg {\r\n    width: 100%;\r\n    height: 5rem;\r\n    position: fixed;\r\n    z-index: -1;\r\n    top: 0;\r\n    -o-object-fit: cover;\r\n    object-fit: cover;\r\n    transition: all .3s;\r\n    top: -0.2rem;\r\n    filter: blur(0.1rem);\r\n}\r\n\r\n\r\n\r\n.title {\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 1rem;\r\n    left: 0.4rem;\r\n    /* 默认值 */\r\n    top: 4rem;\r\n    /* 默认值 */\r\n    color: #000000;\r\n    z-index: 2;\r\n\r\n    span {\r\n        font-size: .6rem;\r\n        font-weight: 900;\r\n    }\r\n\r\n    p {\r\n        margin-top: .5rem;\r\n        font-size: 15px;\r\n    }\r\n}\r\n</style>","import { render } from \"./ItemMusicTop.vue?vue&type=template&id=426b5a00&scoped=true\"\nimport script from \"./ItemMusicTop.vue?vue&type=script&lang=js\"\nexport * from \"./ItemMusicTop.vue?vue&type=script&lang=js\"\n\nimport \"./ItemMusicTop.vue?vue&type=style&index=0&id=426b5a00&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-426b5a00\"]])\n\nexport default __exports__","<template>\r\n    <!-- 歌单详情页列表 -->\r\n    <div class=\"musicList\">\r\n        <div class=\"itemList\">\r\n            <div class=\"item\" v-for=\"(item, index) in itemList\" :key=\"index\" @click=\"playMusic(index)\">\r\n                <img :src=\"item.pic\" alt=\"\">\r\n                <span class=\"item_Name_Right\">\r\n                    <span>{{ item.name }}</span>\r\n                    <p>{{ item.artist }}</p>\r\n                </span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport { mapMutations } from 'vuex';\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            currentIndex: -1 // 初始化为-1,表示未选中任何歌曲\r\n        }\r\n    },\r\n    setup(props) {\r\n        // console.log(props);\r\n    },\r\n    props: ['itemList'],\r\n    methods: {\r\n        playMusic: function (index) {\r\n            this.updatePlayList(this.itemList)\r\n            this.updatePlayListIndex(index)\r\n        },\r\n        ...mapMutations(['updatePlayList', 'updatePlayListIndex'])\r\n    }\r\n}\r\n\r\n</script>\r\n\r\n\r\n\r\n<style lang=\"less\">\r\n.musicList {\r\n    width: 100%;\r\n    /*height: 100%;*/\r\n    background-color: #f8fbf2;\r\n    border-radius: .2rem;\r\n    margin-top: 1rem;\r\n    padding: .2rem;\r\n    position: absolute;\r\n    top: 4rem;\r\n    padding: 0 0.2rem;\r\n    border-top-left-radius: 0.4rem;\r\n    border-top-left-radius: 0.4rem;\r\n    z-index: -1;\r\n    pointer-events: auto;\r\n\r\n\r\n    .itemList {\r\n        display: flex;\r\n        flex-direction: column;\r\n        padding: .2rem;\r\n        margin-bottom: 1rem;\r\n\r\n        .item {\r\n            display: flex;\r\n            align-items: center;\r\n            margin-bottom: .4rem;\r\n\r\n            img {\r\n                width: 1rem;\r\n                /* 调整图片宽度 */\r\n                height: auto;\r\n                /* 自适应高度 */\r\n                border-radius: .3rem;\r\n                /* 添加圆角 */\r\n            }\r\n\r\n            .item_Name_Right {\r\n                flex: 1;\r\n                /* 文字信息占据剩余空间 */\r\n                font-size: .32rem;\r\n                /* 调整文字大小 */\r\n                color: #333;\r\n                /* 文字颜色 */\r\n                margin-left: .4rem;\r\n\r\n\r\n                span {\r\n                    display: -webkit-box;\r\n                    -webkit-box-orient: vertical;\r\n                    -webkit-line-clamp: 1;\r\n                    overflow: hidden;\r\n                    font-weight: 600;\r\n                }\r\n\r\n                p {\r\n                    font-size: .28rem;\r\n                    color: #999;\r\n                    margin-top: .1rem;\r\n                    display: -webkit-box;\r\n                    -webkit-box-orient: vertical;\r\n                    -webkit-line-clamp: 1;\r\n                    overflow: hidden;\r\n                    font-weight: 900;\r\n                    font-size: .28rem;\r\n                    color: #999;\r\n                    margin-top: .1rem;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>","import { render } from \"./ItemMusicList.vue?vue&type=template&id=80e43344\"\nimport script from \"./ItemMusicList.vue?vue&type=script&lang=js\"\nexport * from \"./ItemMusicList.vue?vue&type=script&lang=js\"\n\nimport \"./ItemMusicList.vue?vue&type=style&index=0&id=80e43344&lang=less\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ItemMusic.vue?vue&type=template&id=7e7d68c2\"\nimport script from \"./ItemMusic.vue?vue&type=script&lang=js\"\nexport * from \"./ItemMusic.vue?vue&type=script&lang=js\"\n\nimport \"./ItemMusic.vue?vue&type=style&index=0&id=7e7d68c2&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementBlock","_Fragment","_createVNode","_component_ItemMusicTop","playlist","$setup","state","itemList","onPlayAllSongs","$options","handlePlayAllSongs","_component_ItemMusicList","ref","class","_createElementVNode","_hoisted_4","_hoisted_6","_hoisted_1","src","$props","img700","alt","style","_normalizeStyle","height","bgImgHeight","_hoisted_2","_hoisted_3","onClick","_cache","$event","_ctx","$router","go","_hoisted_5","args","playAllSongs","_hoisted_7","left","titleLeft","top","titleTop","_hoisted_8","_toDisplayString","name","setup","props","onMounted","topSection","document","querySelector","title","bgimg","Masking","handleScroll","scrollTop","window","scrollY","documentElement","value","filter","marginTop","addEventListener","removeEventListener","methods","this","$emit","musicList","__exports__","_renderList","item","index","key","playMusic","pic","artist","data","currentIndex","updatePlayList","updatePlayListIndex","mapMutations","reactive","route","useRoute","async","result","getMusicItemList","query","id","sessionStorage","setItem","JSON","stringify","components","ItemMusicTop","ItemMusicList","render"],"sourceRoot":""}